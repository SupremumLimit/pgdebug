`pgdebug` is a tool which helps you to debug complicated queries. It takes a `select` statement as an input and outputs a series of partial queries corresponding to each CTE and each subquery in the `from` clause.

Documentation: http://korban.net/postgres/pgdebug